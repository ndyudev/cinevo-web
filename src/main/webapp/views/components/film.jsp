<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>

<div class="container-fluid bg-dark text-white py-5">
    <div class="container">
        <div class="row g-4">
            
            <div class="col-lg-8">
                <div class="d-flex justify-content-between align-items-center mb-4 border-bottom border-secondary pb-2">
                    <h3 class="text-uppercase fw-bold border-start border-4 border-danger ps-3 mb-0">
                        Phim Mới Cập Nhật
                    </h3>
                    <a href="#" class="text-decoration-none text-danger fw-bold hover-link">Xem tất cả <i class="fa-solid fa-angle-right"></i></a>
                </div>

                <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-3">
                    <div class="col">
                         <div class="card bg-transparent border-0 h-100 movie-card">
                            <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                <img src="https://img.youtube.com/vi/qEVUtrk8_B4/maxresdefault.jpg" class="card-img-top" alt="John Wick">
                                <div class="movie-overlay d-flex align-items-center justify-content-center">
                                    <a href="${pageContext.request.contextPath}/video-detail?id=qEVUtrk8_B4" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                </div>
                            </div>
                            <div class="card-body px-0 pt-3">
                                <h5 class="card-title text-white fw-bold text-truncate">John Wick: Chapter 4</h5>
                                <div class="d-flex justify-content-between text-secondary small">
                                    <span><i class="fa-solid fa-calendar-days me-1"></i> 2023</span>
                                    <span><i class="fa-solid fa-eye me-1"></i> 800K views</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col">
                        <div class="card bg-transparent border-0 h-100 movie-card">
                            <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                <img src="https://img.youtube.com/vi/uujdjah8wAA/maxresdefault.jpg" class="card-img-top" alt="Titanic">
                                <div class="movie-overlay d-flex align-items-center justify-content-center">
                                    <a href="${pageContext.request.contextPath}/video-detail?id=uujdjah8wAA" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                </div>
                            </div>
                            <div class="card-body px-0 pt-3">
                                <h5 class="card-title text-white fw-bold text-truncate">Titanic</h5>
                                <div class="d-flex justify-content-between text-secondary small">
                                    <span><i class="fa-solid fa-calendar-days me-1"></i> 1997</span>
                                    <span><i class="fa-solid fa-eye me-1"></i> 12M views</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col">
                         <div class="card bg-transparent border-0 h-100 movie-card">
                            <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                <img src="https://img.youtube.com/vi/xvaRHXSU3WE/maxresdefault.jpg" class="card-img-top" alt="Shutter Island">
                                <div class="movie-overlay d-flex align-items-center justify-content-center">
                                    <a href="${pageContext.request.contextPath}/video-detail?id=xvaRHXSU3WE" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                </div>
                            </div>
                            <div class="card-body px-0 pt-3">
                                <h5 class="card-title text-white fw-bold text-truncate">Shutter Island</h5>
                                <div class="d-flex justify-content-between text-secondary small">
                                    <span><i class="fa-solid fa-calendar-days me-1"></i> 2010</span>
                                    <span><i class="fa-solid fa-eye me-1"></i> 1.2M views</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                     <div class="col">
                         <div class="card bg-transparent border-0 h-100 movie-card">
                            <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                <img src="https://img.youtube.com/vi/qEVUtrk8_B4/maxresdefault.jpg" class="card-img-top" alt="John Wick">
                                <div class="movie-overlay d-flex align-items-center justify-content-center">
                                    <a href="${pageContext.request.contextPath}/video-detail?id=qEVUtrk8_B4" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                </div>
                            </div>
                            <div class="card-body px-0 pt-3">
                                <h5 class="card-title text-white fw-bold text-truncate">John Wick: Chapter 4</h5>
                                <div class="d-flex justify-content-between text-secondary small">
                                    <span><i class="fa-solid fa-calendar-days me-1"></i> 2023</span>
                                    <span><i class="fa-solid fa-eye me-1"></i> 800K views</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col">
                         <div class="card bg-transparent border-0 h-100 movie-card">
                            <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                <img src="https://img.youtube.com/vi/Otp3fV5yd8c/maxresdefault.jpg" class="card-img-top" alt="Interstellar">
                                <div class="movie-overlay d-flex align-items-center justify-content-center">
                                    <a href="${pageContext.request.contextPath}/video-detail?id=Otp3fV5yd8c" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                </div>
                            </div>
                            <div class="card-body px-0 pt-3">
                                <h5 class="card-title text-white fw-bold text-truncate">Interstellar</h5>
                                <div class="d-flex justify-content-between text-secondary small">
                                    <span><i class="fa-solid fa-calendar-days me-1"></i> 2014</span>
                                    <span><i class="fa-solid fa-eye me-1"></i> 900K views</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col">
                         <div class="card bg-transparent border-0 h-100 movie-card">
                            <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                <img src="https://img.youtube.com/vi/4H2Ui3ZKy7s/maxresdefault.jpg" class="card-img-top" alt="The Conjuring">
                                <div class="movie-overlay d-flex align-items-center justify-content-center">
                                    <a href="${pageContext.request.contextPath}/video-detail?id=4H2Ui3ZKy7s" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                </div>
                            </div>
                            <div class="card-body px-0 pt-3">
                                <h5 class="card-title text-white fw-bold text-truncate">The Conjuring</h5>
                                <div class="d-flex justify-content-between text-secondary small">
                                    <span><i class="fa-solid fa-calendar-days me-1"></i> 2013</span>
                                    <span><i class="fa-solid fa-eye me-1"></i> 2.1M views</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <nav aria-label="Page navigation" class="mt-5">
                    <ul class="pagination justify-content-center custom-pagination">
                        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1"><i class="fa-solid fa-chevron-left"></i></a></li>
                        <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item"><a class="page-link" href="#"><i class="fa-solid fa-chevron-right"></i></a></li>
                    </ul>
                </nav>
            </div>

            <div class="col-lg-4">
                <div class="sidebar bg-black bg-opacity-25 p-3 rounded h-100 border border-secondary border-opacity-25">
                    
                    <div class="d-flex align-items-center mb-3 pb-2 border-bottom border-secondary border-opacity-25">
                        <i class="fa-solid fa-fire text-danger fs-5 me-2"></i>
                        <h5 class="fw-bold text-white mb-0">Được xem nhiều</h5>
                    </div>

                    <ul class="nav nav-tabs trending-tabs border-secondary border-opacity-25 mb-3" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link text-secondary" id="day-tab" data-bs-toggle="tab" data-bs-target="#day" type="button">Ngày</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="week-tab" data-bs-toggle="tab" data-bs-target="#week" type="button">Tuần</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link text-secondary" id="month-tab" data-bs-toggle="tab" data-bs-target="#month" type="button">Tháng</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link text-secondary" id="all-tab" data-bs-toggle="tab" data-bs-target="#all" type="button">Tất cả</button>
                        </li>
                    </ul>

                    <div class="tab-content" id="myTabContent">
                        
                        <div class="tab-pane fade" id="day" role="tabpanel">
                            <p class="text-secondary text-center mt-4">Chưa có dữ liệu ngày.</p>
                        </div>

                        <div class="tab-pane fade show active" id="week" role="tabpanel">
                            <div class="row row-cols-2 g-3">
                                
                                <div class="col">
                                    <div class="card bg-transparent border-0 h-100 movie-card">
                                        <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                            <img src="https://img.youtube.com/vi/TcMBFSGVi1c/maxresdefault.jpg" class="card-img-top" alt="Endgame">
                                            <div class="movie-overlay d-flex align-items-center justify-content-center">
                                                <a href="${pageContext.request.contextPath}/video-detail?id=TcMBFSGVi1c" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                            </div>
                                        </div>
                                        <div class="card-body px-0 pt-3">
                                            <h6 class="card-title text-white fw-bold text-truncate font-sm">Avengers: Endgame</h6>
                                            <div class="d-flex justify-content-between text-secondary font-xs">
                                                <span>2019</span><span>5M views</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col">
                                    <div class="card bg-transparent border-0 h-100 movie-card">
                                        <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                            <img src="https://img.youtube.com/vi/xvaRHXSU3WE/maxresdefault.jpg" class="card-img-top" alt="Shutter Island">
                                            <div class="movie-overlay d-flex align-items-center justify-content-center">
                                                <a href="${pageContext.request.contextPath}/video-detail?id=xvaRHXSU3WE" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                            </div>
                                        </div>
                                        <div class="card-body px-0 pt-3">
                                            <h6 class="card-title text-white fw-bold text-truncate font-sm">Shutter Island</h6>
                                            <div class="d-flex justify-content-between text-secondary font-xs">
                                                <span>2010</span><span>1.2M views</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col">
                                    <div class="card bg-transparent border-0 h-100 movie-card">
                                        <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                            <img src="https://img.youtube.com/vi/uujdjah8wAA/maxresdefault.jpg" class="card-img-top" alt="Titanic">
                                            <div class="movie-overlay d-flex align-items-center justify-content-center">
                                                <a href="${pageContext.request.contextPath}/video-detail?id=uujdjah8wAA" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                            </div>
                                        </div>
                                        <div class="card-body px-0 pt-3">
                                            <h6 class="card-title text-white fw-bold text-truncate font-sm">Titanic</h6>
                                            <div class="d-flex justify-content-between text-secondary font-xs">
                                                <span>1997</span><span>12M views</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col">
                                    <div class="card bg-transparent border-0 h-100 movie-card">
                                        <div class="ratio ratio-16x9 overflow-hidden rounded shadow-sm position-relative">
                                            <img src="https://img.youtube.com/vi/qEVUtrk8_B4/maxresdefault.jpg" class="card-img-top" alt="John Wick">
                                            <div class="movie-overlay d-flex align-items-center justify-content-center">
                                                <a href="${pageContext.request.contextPath}/video-detail?id=qEVUtrk8_B4" class="btn btn-danger rounded-circle btn-lg play-btn"><i class="fa-solid fa-play"></i></a>
                                            </div>
                                        </div>
                                        <div class="card-body px-0 pt-3">
                                            <h6 class="card-title text-white fw-bold text-truncate font-sm">John Wick 4</h6>
                                            <div class="d-flex justify-content-between text-secondary font-xs">
                                                <span>2023</span><span>800K views</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="tab-pane fade" id="month" role="tabpanel">
                            <p class="text-secondary text-center mt-4">Chưa có dữ liệu tháng.</p>
                        </div>

                        <div class="tab-pane fade" id="all" role="tabpanel">
                            <p class="text-secondary text-center mt-4">Đang cập nhật...</p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .font-sm { font-size: 0.85rem; }
    .font-xs { font-size: 0.75rem; }
    .hover-link:hover { color: #fff !important; text-decoration: none !important; }

    /* CSS Card */
    .movie-card img { transition: transform 0.4s ease; width: 100%; height: 100%; object-fit: cover; }
    .movie-card:hover img { transform: scale(1.1); }
    .movie-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); opacity: 0; transition: all 0.3s ease; z-index: 2; }
    .movie-card:hover .movie-overlay { opacity: 1; }
    .play-btn { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; transform: scale(0.8); transition: transform 0.2s; }
    .movie-card:hover .play-btn { transform: scale(1.1); }

    /* CSS Tabs */
    .trending-tabs { border-bottom: 1px solid rgba(255,255,255,0.1); }
    .trending-tabs .nav-link {
        color: #adb5bd; background: transparent !important; border: none;
        border-bottom: 3px solid transparent; padding: 8px 15px;
        font-weight: 600; font-size: 0.9rem; transition: all 0.3s ease;
    }
    .trending-tabs .nav-link:hover { color: #fff; }
    .trending-tabs .nav-link.active {
        color: #dc3545 !important; background: transparent !important;
        border-bottom: 3px solid #dc3545 !important;
    }

    /* CSS Pagination */
    .custom-pagination .page-link { color: #adb5bd; background-color: transparent; border: 1px solid #444; margin: 0 3px; border-radius: 4px; }
    .custom-pagination .page-link:hover { color: #fff; background-color: #333; border-color: #555; }
    .custom-pagination .page-item.active .page-link { color: #fff; background-color: #dc3545; border-color: #dc3545; }
    .custom-pagination .page-item.disabled .page-link { color: #6c757d; background-color: transparent; border-color: #333; }
    .page-link:focus { box-shadow: none; }
</style>